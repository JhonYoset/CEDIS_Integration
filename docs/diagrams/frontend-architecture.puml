@startuml CEDIS_Frontend_Architecture
!theme plain

title Sistema CEDIS - Arquitectura Frontend
subtitle Estructura modular de Angular con integraciÃ³n completa

package "ğŸ¯ Core Application" {
    [ğŸš€ App Module] as app_module
    [ğŸ›£ï¸ App Routing] as app_routing
    [ğŸ¨ App Component] as app_component
}

package "ğŸ” Authentication System" {
    [ğŸ”‘ Auth Service] as auth_service
    [ğŸ›¡ï¸ Auth Guard] as auth_guard
    [ğŸ‘‘ Admin Guard] as admin_guard
    [ğŸ”„ Auth Interceptor] as auth_interceptor
    [ğŸšª Login Component] as login_component
}

package "ğŸ“± Layout Components" {
    [ğŸ—ï¸ Admin Layout] as admin_layout
    [ğŸ“Š Sidebar] as sidebar
    [ğŸ” Navbar] as navbar
    [ğŸ”» Footer] as footer
}

package "ğŸ“„ Feature Modules" {
    package "ğŸ  Dashboard" {
        [ğŸ“ˆ Home Component] as home
        [ğŸ“Š Chart Components] as charts
    }
    
    package "ğŸ‘¤ User Management" {
        [ğŸ‘¤ User Component] as user
        [ğŸ‘¥ User Service] as user_service
    }
    
    package "ğŸ“– Lectores Module" {
        [ğŸ“– Lectores Component] as lectores
        [â• Register Modal] as register_modal
        [âœï¸ Edit Modal] as edit_modal
        [ğŸ‘ï¸ View Modal] as view_modal
    }
    
    package "ğŸ“„ Documentos Module" {
        [ğŸ“„ Documentos Component] as documentos
        [ğŸ“ Document Modals] as doc_modals
    }
    
    package "ğŸ“‹ PrÃ©stamos Module" {
        [ğŸ“‹ Prestamos Component] as prestamos
        [ğŸ“‹ Prestamo Modals] as prestamo_modals
    }
    
    package "ğŸ“Š Reportes Module" {
        [ğŸ“Š Reportes Component] as reportes
        [ğŸ“¤ Export Modals] as export_modals
    }
}

package "ğŸ”§ Shared Services" {
    [ğŸŒ API Service] as api_service
    [ğŸ”„ HTTP Client] as http_client
    [ğŸ’¾ Local Storage] as local_storage
}

package "ğŸ¨ Shared Components" {
    [ğŸ¨ LBD Module] as lbd_module
    [ğŸ“Š Chart Component] as chart_component
    [ğŸ”” Notifications] as notifications
}

' Dependencias principales
app_module --> auth_service
app_module --> auth_interceptor
app_routing --> auth_guard
app_routing --> admin_guard

login_component --> auth_service
auth_guard --> auth_service
admin_guard --> auth_service
auth_interceptor --> auth_service

admin_layout --> sidebar
admin_layout --> navbar
admin_layout --> footer

home --> api_service
home --> charts
user --> api_service
user --> user_service

lectores --> api_service
documentos --> api_service
prestamos --> api_service
reportes --> api_service

api_service --> http_client
auth_service --> local_storage

' Flujo de datos
auth_service --> api_service : "JWT Token"
api_service --> auth_interceptor : "HTTP Headers"
auth_interceptor --> http_client : "Authenticated Requests"

note top of auth_service
  <b>ğŸ” Auth Service:</b>
  â€¢ Google OAuth integration
  â€¢ JWT token management
  â€¢ User session handling
  â€¢ Automatic logout on expiry
end note

note top of api_service
  <b>ğŸŒ API Service:</b>
  â€¢ RESTful API calls
  â€¢ Pagination support
  â€¢ Error handling
  â€¢ Response typing
end note

note bottom of auth_guard
  <b>ğŸ›¡ï¸ Guards:</b>
  â€¢ Route protection
  â€¢ Role-based access
  â€¢ Automatic redirects
  â€¢ Session validation
end note

note bottom of home
  <b>ğŸ“Š Dashboard Features:</b>
  â€¢ Real-time statistics
  â€¢ Interactive charts
  â€¢ Recent activity
  â€¢ Quick actions
end note

@enduml